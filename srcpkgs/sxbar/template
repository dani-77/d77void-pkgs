# Template file for 'sxbar'
pkgname=sxbar
version=1.0
revision=1
#archs="i686 x86_64"
#build_wrksrc=
build_style=gnu-makefile
#configure_args=""
#make_build_args=""
#make_install_args=""
#conf_files=""
#make_dirs="/var/log/dir 0755 root root"
hostmakedepends="fontconfig-devel freetype-devel libX11-devel libXft-devel libXinerama-devel pkg-config"
makedepends="fontconfig-devel freetype-devel libX11-devel libXft-devel libXinerama-devel pkg-config"
depends="freetype libX11 libXft libXinerama"
short_desc="Simple, yet powerful, status bar for Xorg."
maintainer="Daniel Azevedo <daniazevedo77@posteo.net>"
license="GPL-3.0-or-later"
homepage="https://github.com/uint23/sxbar"
#changelog=""
distfiles="https://github.com/uint23/${pkgname}/archive/refs/tags/v${version}.tar.gz"
checksum=2f9de175846f13194a39dd1a497247d5d874a5f1bced4ea54577ca491e8dc459

do_build() {
	cp ${FILESDIR}/default_sxbarc default_sxbarc
	vsed -e "/CFLAGS/s|\${CPPFLAGS}|& $CFLAGS|g" -i Makefile
	make CC=$CC INCS="-I. -I${XBPS_CROSS_BASE}/usr/include/freetype2" LIBS="-lX11 -lXinerama -lXft -lfontconfig"
}

do_install() {
	make PREFIX=/usr DESTDIR=$DESTDIR install
}
