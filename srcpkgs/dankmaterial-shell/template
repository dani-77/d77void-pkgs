# Template file for 'dankmaterial-shell'
pkgname=dankmaterial-shell
version=1.0.3
revision=1
#archs="i686 x86_64"
#build_wrksrc=
build_style="fetch"
#configure_args=""
#make_build_args=""
#make_install_args=""
#conf_files=""
#make_dirs="/var/log/dir 0755 root root"
#hostmakedepends="go"
#makedepends=""
depends="quickshell dgop accountsservice cava cliphist i2c-tools matugen qt6-multimedia power-profiles-daemon"
short_desc="Desktop shell for wayland compositors built with Quickshell & GO"
maintainer="Daniel Azevedo <daniazevedo77@posteo.net>"
license="MIT"
homepage="https://github.com/AvengeMedia/DankMaterialShell"
changelog="https://github.com/AvengeMedia/DankMaterialShell/releases/tag/v{version}"
distfiles="https://github.com/AvengeMedia/DankMaterialShell/releases/download/v${version}/dms-full-amd64.tar.gz"
checksum=0e435f84ae5e6b5ef80d9c47dbfd508e91e5bac51ee84618a2944277cfa726c5

do_install() {
	vextract dms-full-amd64.tar.gz
	vmkdir /usr/bin
	vinstall ./bin/dms 755 /usr/bin/
	vmkdir /usr/share/bash-completion/completions
	vmkdir /usr/share/zsh/site-functions
	vmkdir /usr/share/fish/vendor_completions.d
	vcopy ./completions/completion.bash /usr/share/bash-completion/completions/dms
	vcopy ./completions/completion.bash /usr/share/zsh/site-functions/_dms
	vcopy ./completions/completion.bash /usr/share/fish/vendor_completions.d/dms.fish

	rm -rf ./bin
	rm -rf ./completions
	rm -rf ./docs
	rm dms-full-amd64.tar.gz
	rm INSTALL.md
	
	vmkdir /etc/xdg/quickshell/dms
	vcopy '*' /etc/xdg/quickshell/
}
